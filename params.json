{
  "name": "Mysh",
  "tagline": "A Custom-Made Unix Shell",
  "body": "# mysh\r\nA custom-made Unix shell.\r\n\r\n## Objectives\r\n\r\nThe objectives of this project was to learn how a Unix shell works, to write a simple shell, to create processes, to handle signals, to use various Unix system and C library calls, and to become a better C programmer.\r\n\r\n## Overview\r\n\r\nThis shell is implemented with a loop that prints a prompt (consisting of a \"prefix,\" which is initially a blank (space), followed by ` [cwd]> `, where cwd is the \"current working directory,\" and will execute commands until the `exit` command is entered. In the loop, we check if the command is one of the built-in commands (listed below) or a program in the search paths.\r\n\r\n*This shell only works on **Unix systems** (Mac/Linux) and has **only been tested on OSX 10.11.4 and Ubuntu 14.04 LTS.** *\r\n\r\n## How to Use this Shell\r\n1. Clone or download/extract this repository to the location of your choice\r\n1. Navigate to the directory with the shell files with `cd`\r\n2. run `make clean`\r\n3. run `make`\r\n4. run `./mysh`\r\n\r\n## Built-in commands and features\r\n* **exit** - Terminates the shell.\r\n* **which** - Find the first instance of the supplied command in the PATH variable. This instance is what is used for executing external commands.\r\n* **where** - Reports all known instances of command in the PATH variable\r\n* **cd** - Changes directory to directory given.\r\n  * With no arguments, changes directory to the home directory.\r\n  * With a '-' as the only argument, changes directory to directory previously in\r\n  * With one argument, changes the directory to the given path.\r\n* **pwd** - prints the current working directory\r\n* **list** - A built-in equivalent to `ls`\r\n  * With no arguments, lists the files in the current directory one per line.\r\n  * With arguments, lists the files in each directory given as an argument, with a blank line then the name of the directory followed by a : before the list of files in that directory\r\n* **pid** - prints the pid of the shell\r\n* **kill** - When given just a pid sends a `SIGTERM` to it with kill(2). When given a signal number (with a - in front of it) sends that signal to the pid. (e.g., `kill 5678`, `kill -9 5678`).\r\n* **prompt** - When ran with no arguments, prompts for a new prompt prefix string. When given an argument make that the new prompt prefix.For instance, let's assume cwd is /usa/robertweber95:\r\n```\r\n[/usa/robertweber95]> prompt CISC361\r\nCISC361 [/usa/robertweber95]>\r\nCISC361 [/usa/robertweber95]> cd 361\r\nCISC361 [/usa/robertweber95/361]> prompt YES\r\nYES [/usa/robertweber95/361]> prompt\r\ninput prompt prefix: hello\r\nhello [/usa/robertweber95/361]>\r\n```\r\n* **printenv**\r\n  * When ran with no arguments prints the whole environment.\r\n  * When ran with one argument, prints the value of the given environment variable.\r\n* **alias**\r\n  * When ran with no arguments prints the aliases the shell knows about.\r\n  * When ran with arguments it should install an alias into the alias table the shell knows about.\r\n* **history** - Prints the last 10 commands executed when ran with no     options.\r\n  * When ran with a numerical argument, changes the number of commands to list to that number.\r\n* **setenv**\r\n  * When ran with no arguments, prints the whole environment, the same as printenv.\r\n  * When ran with one argument, sets the value of the argument as an empty environment variable.\r\n  * When ran with two arguments, the second one is the value of the first.\r\n* **Job Backgrounding using `&`** - When the `&` is the last argument supplied in a command, the given command is executed concurrently as a background job along with the shell, rather than having the shell wait for the process to complete. It is possible that several backgrounded jobs could be running concurrently at the same time. *This only works for external commands.*\r\n* **watchmail** - This command takes as the first argument a name of a file, which must already exist to watch for an increase in it's file size. It can take an optional second argument of \"off\" to turn off of watching of mail for that file:\r\n```\r\nmysh >> watchmail mbox\r\nmysh >> echo hello > mbox\r\n  [You've got mail in mbox on DD/MM/YYYY at hh:mm::ss]\r\nmysh >> watchmail mbox off\r\n```\r\n* **File Redirections** - The following file redirections will work:\r\n  *  `>` redirects standard output of command on left to file on right (i.e. `command > file`).\r\n  * `>&` redirects standard output and standard error of command on left to file on right (i.e. `command >& file`).\r\n  * `>>` redirects standard output of command on left to file on right (i.e. `command >> file`), appending to the file.\r\n  * `>>&` redirects standard output and standard error of command on left to file on right (i.e. `command >>& file`), appending to the file.\r\n  `<` redirects standard input of command on left to come from file on the right (i.e. `command < file`).\r\n* **noclobber** - Affects how file redirections handle file overwriting and creation. Noclobber prevents accidental overwriting of existing files. Noclobber defaults to 'off'.\r\n  * when noclobber is off, > and >& will overwrite existing files and >> and >>& will create the file if it doesn't exist.\r\n  * When noclobber is on, the shell refuses to overwrite existing files and refuses to create a file when appending to a non-existing file.\r\n  ```\r\n  [mudskipper6:/usa/cshen/public_html/361/Proj_3 216] tcsh\r\n  mudskipper6[31] [~/public_html/361/Proj_3/]> touch out-file\r\n  mudskipper6[32] [~/public_html/361/Proj_3/]> noclobber\r\n  mudskipper6[33] [~/public_html/361/Proj_3/]> echo hello > out-file\r\n  out-file: File exists.\r\n  mudskipper6[34] [~/public_html/361/Proj_3/]> noclobber\r\n  mudskipper6[35] [~/public_html/361/Proj_3/]> echo hello > out-file\r\n  mudskipper6[36] [~/public_html/361/Proj_3/]> more out-file\r\n  hello\r\n  mudskipper6[37] [~/public_html/361/Proj_3/]>\r\n  ```\r\n* **interprocess communication (IPC)** - This includes support for the operators `|` and `|&`. The `|` operator pipes standard output of the command on the left to standard input of the command on the right. (i.e. `command1 | command2`). For `|&`, standard error piped as well as standard output. This only works when the command on the right is an external command, however the command on the left could be built-in or external.\r\n```\r\n  [yankees6.acad.ece.udel.edu:/usa/cshen 132] tcsh\r\n  yankees6[29] [~/]> which echo\r\n  usr/bin/echo\r\n  yankees6[30] [~/]> echo hello world | wc\r\n         1       2      12\r\n  yankees6[31] [~/]>\r\n  yankees6[34] [~/361/2016/apue.3e/intro/]>\r\n  yankees6[34] [~/361/2016/apue.3e/intro/]> ls X\r\n  X: No such file or directory\r\n  yankees6[35] [~/361/2016/apue.3e/intro/]> ls X | wc\r\n  X: No such file or directory\r\n         0       0       0\r\n  yankees6[36] [~/361/2016/apue.3e/intro/]> ls X |& wc\r\n         1       6      29\r\n  yankees6[37] [~/361/2016/apue.3e/intro/]>\r\n```\r\n##Testing commands\r\nBelow is a list of some commands you can use to test the functionality of this shell.\r\n```\r\n[return]\r\nCtrl-D\r\nCtrl-Z\r\nCtrl-C\r\nwhich\t\t\t\t\t  ; test which\r\nwhich ls\r\nls\t\t\t\t\t    ; execute it\r\n[return]\r\nCtrl-D\t\t\t\t\t; make sure still work\r\nCtrl-Z\r\nCtrl-C\r\nls -l\t\t\t\t\t  ; test passing arguments\r\nls -l -a /bin/ps\r\nwhere\t\t\t\t\t  ; test where\r\nwhere ls\t\t\r\n/bin/ls -l -g   ; test absolutes and passing args\r\n/bin/ls -l\r\nblah\t\t\t\t\t  ; try a command that doesn't exist\r\n/blah\t\t\t\t\t  ; an absolute path that doesn't exist\r\nls -l /blah\r\n/bin\t\t\t\t; try to execute a directory\r\n/bin/ls -la /\r\nfile /bin/ls /bin/rm\r\nwhich ls rm\t\t\t; test multiple args\r\nwhere ls rm\r\nlist\t\t\t\t\t  ; test list\r\nlist / /usr/bin\r\ncd \t\t\t\t\t    ; cd to home\r\npwd\r\ncd /blah\t\t\t\t; non-existant\r\ncd /usr/bin /usr/ucb\t\t\t; too many args\r\ncd -\t\t\t\t\t; should go back to shell dir\r\npwd\r\ncd /bin\r\npwd\r\n./ls /\t\t\t\t\t; test more absolutes\r\n../bin/ls /\r\nhistory\t\t\t\t\t; test history\r\nhistory 15\r\nhistory\r\nhistory 5\r\nhistory\r\npid\t\t\t\t\t; get pid for later use\r\nkill\r\nkill pid-of-shell\t\t\t; test default\r\nkill -1 pid-of-shell\t\t\t; test sending a signal, should kill\r\n\t\t\t\t\t                ; the shell, so restart a new one\r\nprompt\t    (and enter some prompt prefix)\r\nprompt mysh\r\nalias lst ls -l\r\nalias\r\nls\r\nlst\r\nwhere lst\r\nprintenv PATH\r\nprintenv\r\nsetenv\r\nsetenv TEST\r\nprintenv TEST\r\nsetenv TEST testing\r\nprintenv TEST\r\nsetenv TEST testing more\r\nsetenv HOME /\r\ncd\r\npwd\r\ncd -\r\npwd\r\nls &\r\nls -l &\r\nsleep 20 &\r\nls &          ; Execute before sleep ends\r\nps            ; call ps to see backgrounded sleep process\r\npid\r\ntty\r\n/bin/ps -lfu rweber\r\nls -l\r\nrm -f mail1 mail2\r\ntouch mail1\r\nwatchmail mail1\r\necho hi >> mail1\r\necho HiThere > mail2\r\nwatchmail mail2\r\necho there >> mail1\r\necho Subject: >> mail2\r\ncat mail1\r\ncat mail2\r\nwatchmail mail1 off\r\necho bye >> mail1\r\necho bye >> mail2\r\ngrep hi < mail1\r\nls | fgrep .c\r\npid\r\n/bin/ps -lfu rweber | grep defunct  ; Check for zombie processes\r\nexit\r\n```\r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}